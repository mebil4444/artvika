<!-- CONTACT -->
<section id="contact">
  <div class="container stack">
    <div class="kicker">Contact</div>
    <h2>Get in Touch</h2>

    <div class="grid g2">
      <div class="card" style="background:transparent;border:none;padding:0;box-shadow:none">
        <img src="assets/hero.jpg" alt="Abstract paint background" loading="lazy"/>
      </div>

      <!-- CONTACT CARD (centered like screenshot) -->
      <div class="card contact-card" style="text-align:center">
        <p style="font-weight:800;letter-spacing:.02em;margin:0 0 2px">STUDIO ARTVIKA</p>
        <p style="margin:0 0 10px">Gartnervingen 8B<br/>2032 Maura / Norway</p>

        <p style="font-weight:700;margin:10px 0 6px">Email</p>
        <a class="btn ghost" href="mailto:studioartvika7@gmail.com"
           style="display:inline-flex;min-width:260px;justify-content:center">studioartvika7@gmail.com</a>

        <p style="font-weight:700;margin:16px 0 0">Phone</p>
        <p style="margin:0 0 12px">—</p>

        <!-- ✅ FORMSPREE (AJAX) -->
        <form id="contactForm" action="https://formspree.io/f/xxxxxxxx" method="POST" novalidate>
          <!-- Honeypot (botlar için görünmez) -->
          <input type="text" name="_gotcha" style="display:none">

          <label class="contact-label">Name</label>
          <input class="field" required name="name" id="f_name" placeholder="Your name">

          <label class="contact-label">Email</label>
          <input class="field" required type="email" name="email" id="f_email" placeholder="you@example.com">

          <label class="contact-label">Message</label>
          <textarea class="field" required name="message" id="f_message" rows="5" placeholder="Hello..."></textarea>

          <button id="sendBtn" class="btn inverse" type="submit" style="margin-top:6px">Send</button>
          <div id="formNote" style="margin-top:10px;font-size:14px;color:#6e6e6e"></div>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- ↓↓↓ contact için ufak CSS takviyesi (istersen <style> bloğunun sonuna ekleyebilirsin) -->
<style>
  .contact-card .field{
    width:100%;max-width:520px;margin:6px auto 12px;padding:12px 14px;
    border:1px solid var(--line);border-radius:12px;font-size:15px
  }
  .contact-card .contact-label{display:block;margin:8px 0 6px;font-weight:600;text-align:center}
  @media (max-width:640px){.contact-card .field{max-width:100%}}
</style>

<!-- ✅ AJAX ile Formspree (sayfadan ayrılmadan) -->
<script>
  const form = document.getElementById('contactForm');
  const note = document.getElementById('formNote');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    note.style.color = '#6e6e6e';
    note.textContent = "Sending…";

    const data = new FormData(form);
    try {
      const res = await fetch(form.action, {
        method: 'POST',
        body: data,
        headers: { 'Accept': 'application/json' }
      });
      if (res.ok) {
        note.style.color = '#0b6f3a';
        note.textContent = "Thanks! Your message was sent successfully.";
        form.reset();
      } else {
        const j = await res.json().catch(()=>null);
        throw new Error(j && j.errors ? j.errors.map(x=>x.message).join(', ') : 'Failed to send');
      }
    } catch (err) {
      note.style.color = '#b0413e';
      note.textContent = "Failed to send. Please try again or email us at studioartvika7@gmail.com.";
    }
  });
</script>
